# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Ferentin < Formula
  desc "Ferentin CLI - Secure OIDC authentication for CLI tools"
  homepage "https://www.ferentin.com"
  version "0.4.2"
  license "Proprietary"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.4.2/ferentin_v0.4.2_darwin_amd64.tar.gz"
      sha256 "cade36c060f030a9e9a7695dde37637930f3aa00bf564bcb7e664cbe6dacc93d"

      def install
        bin.install "ferentin"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.4.2/ferentin_v0.4.2_darwin_arm64.tar.gz"
      sha256 "9ac683550d5e496a68f4d113a60c6b667125fd6edb9df22621e7c21d8f9dbe2b"

      def install
        bin.install "ferentin"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.4.2/ferentin_v0.4.2_linux_amd64.tar.gz"
      sha256 "628b3d32321a37158483fd540334a629f67128515c056244cd439e96cb461fc2"
      def install
        bin.install "ferentin"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.4.2/ferentin_v0.4.2_linux_arm64.tar.gz"
      sha256 "e6feff24701625f88783a5ff246542282eb2f6c937351276dd500068d2e2f2cb"
      def install
        bin.install "ferentin"
      end
    end
  end

  test do
    output = shell_output("#{bin}/ferentin --version")
    assert_match /\bversion v?\d+\.\d+\.\d+/, output
  end
end
