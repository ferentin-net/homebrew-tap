# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Ferentin < Formula
  desc "Ferentin CLI - Secure OIDC authentication for CLI tools"
  homepage "https://www.ferentin.com"
  version "2.1.1"
  license "Proprietary"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v2.1.1/ferentin_v2.1.1_darwin_amd64.tar.gz"
      sha256 "953fd5611f3adfb5439a9088588a737f0426886970f115620c7117e974f0724e"

      def install
        bin.install "ferentin"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v2.1.1/ferentin_v2.1.1_darwin_arm64.tar.gz"
      sha256 "0ee480db991ff5790e0d522e6ce118da21448190b06e2d16b5d6ffb9042fc426"

      def install
        bin.install "ferentin"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v2.1.1/ferentin_v2.1.1_linux_amd64.tar.gz"
      sha256 "f9e5a6070ffa8340b01dbd85ad9059265e951fc8793d4a6a439e70f9752dda55"
      def install
        bin.install "ferentin"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v2.1.1/ferentin_v2.1.1_linux_arm64.tar.gz"
      sha256 "742086d69fe66c5b4c0e8a4ccf8245337f3930ab87cb58a466f393a54f6a11f0"
      def install
        bin.install "ferentin"
      end
    end
  end

  test do
    output = shell_output("#{bin}/ferentin --version")
    assert_match /\bversion v?\d+\.\d+\.\d+/, output
  end
end
