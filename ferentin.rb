# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Ferentin < Formula
  desc "Ferentin CLI - Secure OIDC authentication for CLI tools"
  homepage "https://www.ferentin.com"
  version "0.2.2"
  license "Proprietary"

  on_macos do
    on_intel do
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.2/ferentin_v0.2.2_darwin_amd64.tar.gz"
      sha256 "81f3bd41ef6545e36008073593087d500675de243002d6d1fed559da5bdda70c"

      def install
        bin.install "ferentin"
      end
    end
    on_arm do
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.2/ferentin_v0.2.2_darwin_arm64.tar.gz"
      sha256 "837281363a182dc3b596c4b04b6c71f4df5558918c4a877bb528e8a5f6390aaf"

      def install
        bin.install "ferentin"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.2/ferentin_v0.2.2_linux_amd64.tar.gz"
        sha256 "a8b2620641f5281876514dd7a50eba4d42a396017a100f1b9b5fdd3bd7dcd128"

        def install
          bin.install "ferentin"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.2/ferentin_v0.2.2_linux_arm64.tar.gz"
        sha256 "d3b504fc74e234cafe007afb9f87eaa653283c4726d3d17f8ca11d69dac43fe9"

        def install
          bin.install "ferentin"
        end
      end
    end
  end

  test do
    output = shell_output("#{bin}/ferentin --version")
    assert_match /\bversion v?\d+\.\d+\.\d+/, output
  end
end
