# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Ferentin < Formula
  desc "Ferentin CLI - Secure OIDC authentication for CLI tools"
  homepage "https://www.ferentin.com"
  version "0.2.0"
  license "Proprietary"

  on_macos do
    on_intel do
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.0/ferentin_v0.2.0_darwin_amd64.tar.gz"
      sha256 "f37bddc73cbee15c557e9f7930b475e33a885215c6fd1e043acfcbbe26458205"

      def install
        bin.install "ferentin"
      end
    end
    on_arm do
      url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.0/ferentin_v0.2.0_darwin_arm64.tar.gz"
      sha256 "3a60da7dd9cf6e855c37b00fbd6e70439884e7b26282a334fea033814c3e3bbf"

      def install
        bin.install "ferentin"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.0/ferentin_v0.2.0_linux_amd64.tar.gz"
        sha256 "575c805ada41ab0371fddb872124e6a5a4378216ce478b8068decb96f9c2f534"

        def install
          bin.install "ferentin"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/ferentin-net/ferentin-cli-dist/releases/download/v0.2.0/ferentin_v0.2.0_linux_arm64.tar.gz"
        sha256 "43161363240f359669892acf8a7184c84cde7b7ce947f0565f72af0d62e2b862"

        def install
          bin.install "ferentin"
        end
      end
    end
  end

  test do
    output = shell_output("#{bin}/ferentin --version")
    assert_match /\bversion v?\d+\.\d+\.\d+/, output
  end
end
